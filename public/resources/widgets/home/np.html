<head>
  <link href="https://fonts.googleapis.com/css2?family=PT+Sans&display=swap" rel="stylesheet">
</head>
<div class="content" id="moneyOnMind" style="margin: 0; overflow: hidden; position: relative;">
  <!-- now playing script from https://septic.lol/?z=/code/widgets.html -->       
  <div style="position: relative; background-color: rgba(49, 49, 49, 0.4); padding: 5px;" id="hiPoopFart">
    <section id="listen" user="wiichicken">error! oops!</section>
    <a href="https://www.last.fm/user/wiichicken" id="artworklink" target="_blank" style="background: none !important; display: flex; align-items: center;">
      <div id="coverart" style="display: flex; align-items: center;">
        <img id="artwork" src="" style="display: inline-block; width: 40px; height: 40px; box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.7);" onError="this.onerror=null;this.src='med/blank.png';">
        <img id="artwork1" class="afterfeat" src="" style="width: 3px; height: 35px;">
        <img id="artwork2" class="afterfeat" src="" style="width: 2px; height: 30px;">
        <img id="artwork3" class="afterfeat" src="" style="height: 25px; width: 1px;">
        <img id="artwork4" class="afterfeat" src="" style="height: 20px; width: 1px;">
      </div>
      <p id="track" style="color: white; white-space: nowrap; overflow: hidden; margin: 0; padding-left: 2px;"></p>
    </a>
  </div>
</div>
<style>
  body {
    font-family: 'PT Sans', sans-serif;
    margin: 0;
    color: white;
  }
  p {text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.6);}
  #listen {text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.6);}
  a {text-decoration: none;}
  #coverart {transition-duration: 0.5s;}
	#coverart:hover {margin-right: 10px;}
	#coverart:hover .afterfeat {
		width: 30px !important;
		height: 30px !important;
		transform: translate(5px, 0px) !important;
		margin: 3px;
	}
	.afterfeat {
		margin: 0px;
		width: 3px;
		box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.7);
		transition-duration: 0.5s;
		object-fit: cover;
	}
  #moneyOnMind {
		background-size: cover;
		background-repeat: repeat;
		animation: nowBack 120s linear infinite;
	}
  #listenglow {
		text-shadow: white 0 0 10px;
		font-weight: bold;
	}
	#hiPoopFart {
		backdrop-filter: blur(30px);
		-webkit-backdrop-filter: blur(30px); 
	}
  @keyframes nowBack {
		0% {background-position-y: 0%; background-position-x: 0%;}
		20% {background-position-x: 113%; background-position-y: 213%;}
		40% {background-position-x: 226%; background-position-y: 426%;}
		60% {background-position-x: 339%; background-position-y: 639%;}
		80% {background-position-x: 452%; background-position-y: 852%;}
		100% {background-position-y: 1065%; background-position-x: 565%;}
	}
  @media (prefers-reduced-motion) {
    * {animation: none !important;}
  }
	@media (prefers-reduced-transparency) {
		.content {background-image: none !important;}
		#hiPoopFart {
			backdrop-filter: blur(0px) !important;
			-webkit-backdrop-filter: blur(0px); 
			background-color: unset;
		}
	}
</style>
<script>
  // Code from https://septic.lol/?z=/code/widgets.html
document.addEventListener('DOMContentLoaded', function() {
	var user = document.getElementById("listen").getAttribute("user");
	var url = "http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=" + user + "&api_key=afc213709a996ae561e307f596c9952b&format=json";
	var request = new XMLHttpRequest();
	request.open('GET', url, true);

	request.onload = function() {
		if (request.status >= 200 && request.status < 400) {
			
			var data = JSON.parse(request.responseText);
			var artist = data.recenttracks.track[0].artist["#text"];
			var artist1 = data.recenttracks.track[1].artist["#text"];
			var artist2 = data.recenttracks.track[2].artist["#text"];
			var artist3 = data.recenttracks.track[3].artist["#text"];
			var artist4 = data.recenttracks.track[4].artist["#text"];
			var song = data.recenttracks.track[0]["name"];
			var song1 = data.recenttracks.track[1]["name"];
			var song2 = data.recenttracks.track[2]["name"];
			var song3 = data.recenttracks.track[3]["name"];
			var song4 = data.recenttracks.track[4]["name"];
			var artwork = data.recenttracks.track[0].image[1]["#text"];
			var artwork1 = data.recenttracks.track[1].image[1]["#text"];
			var artwork2 = data.recenttracks.track[2].image[1]["#text"];
			var artwork3 = data.recenttracks.track[3].image[1]["#text"];
			var artwork4 = data.recenttracks.track[4].image[1]["#text"];

			var artworkImg = document.getElementById("artwork");
			artworkImg.setAttribute("src", artwork);
			var fakeBlur = document.getElementById('moneyOnMind');
			fakeBlur.style.backgroundImage = `url(${artwork})`;
			var art1 = document.getElementById('artwork1');
			var art2 = document.getElementById('artwork2');
			var art3 = document.getElementById('artwork3');
			var art4 = document.getElementById('artwork4');
			art1.setAttribute('src', artwork1);
			art1.setAttribute('title', `${song1} - ${artist1}`);
			art2.setAttribute('src', artwork2);
			art2.setAttribute('title', `${song2} - ${artist2}`);
			art3.setAttribute('src', artwork3);
			art3.setAttribute('title', `${song3} - ${artist3}`);
			art4.setAttribute('src', artwork4);
			art4.setAttribute('title', `${song4} - ${artist4}`);

			var trackInfo = document.getElementById("track");
			trackInfo.innerHTML = "\
				<strong>"+song+"</strong><br />\
				"+artist+"\
			";

			if (typeof data.recenttracks.track[0]["@attr"] !== "undefined"){
				var listenInfo = document.getElementById("listen");
				listenInfo.innerHTML = '<span id="listenglow">listening</span> to:';
				fakeBlur.style.animationDuration = '30s';
				document.getElementById('hiPoopFart').style.backdropFilter = 'blur(40px)';
			} else {
				var listenInfo = document.getElementById("listen");
				listenInfo.innerHTML = 'last <span>listened</span> to:';
				console.log("false");
			}
		} else {
			console.error("Error fetching data from server.");
		}
	};

	request.onerror = function() {
		console.error("Connection error.");
	};

	request.send();
	});
</script>